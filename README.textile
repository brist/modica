h1. MODiCA "!https://secure.travis-ci.org/modica/modica.png!":https://secure.travis-ci.org/modica/modica.png

p. This project is a Java library used for parsing IBMs Advanced Function Printing document format.

The client API works on two levels, a parser for structured field introducers and a separate API for parsing the content of structured fields. The API has been designed with handler interfaces so that the client can control the behaviour of the parser.

h2. StructuredFieldIntroducerHandler

p. The StructuredFieldIntroducer parser initially parses the structured field introducers of the AFP document. This gives a skeletal structure to the document and the behaviour is controlled by the StructuredFieldIntroducerHandler.

h2. StructuredFieldHandler

p. The richer parse of the document is handled once the introducers have been collected. A StructuredFieldFactory consumes StructuredFieldIntroducers and returns the parsed StructuredField objects. This system gives control of the rich parser to the client as structured fields can be selectively parsed. Once the structured fields have been parsed, the behaviour of the parser can be controlled through a simple interface; StructuredFieldHandler.

h2. The Commandline Utility

p. MODiCA has been designed to be used as a library, however a CLI allows for some of the more conventional use-cases to be accessed from the command line.

bc.         usage: MODiCA - An AFP parsing library
          -c,--compare <arg>      Compare two AFP documents and print any
                                  differences to the command line.
          -f,--full-parse <arg>   Parse the AFP document and create a richer object
                                  model.
          -h,--help               Print usage information
          -p,--parse <arg>        Parse an AFP document and print the structured
                                  field data to the commandline.
          -x,--xml-out <arg>      Parse the AFP document and prints the XML model
                         to stdout.

h5. Compare

p. Not yet implemented - watch this space

h5. Full Parse

p. Mostly for debug puposes at the moment, it displays slightly more information that the "--parse" option. The output of this relies on the ".toString()" method of each implemented StructuredField, as such it shouldn't not be expected to be backwards compatible.

h5. Parse

p. A very quick and fast parse over the structured field introducers to get an overview of the documents skeletal structure. This will not display either structured field parameters, data or triplets.

h5. XML-Out

p. An XML formatter that converts the AFP object model in to XML format, the XML is printed to stdout.
